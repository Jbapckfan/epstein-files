<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EPSTEIN FILES | Investigation Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&family=Bebas+Neue&family=Source+Sans+3:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root{--bg:#0a0a0c;--card:#18181b;--red:#ef4444;--gold:#f59e0b;--blue:#3b82f6;--green:#22c55e;--purple:#8b5cf6;--text:#fafafa;--text2:#a3a3a3}
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'Source Sans 3',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;overflow-x:hidden}
        header{position:fixed;top:0;left:0;right:0;z-index:1000;background:rgba(10,10,12,0.95);backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,0.05);padding:0.4rem 1rem}
        .header-content{max-width:1900px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:0.5rem}
        .logo h1{font-family:'Bebas Neue',sans-serif;font-size:1.1rem;letter-spacing:0.1em}
        nav{display:flex;gap:0.15rem;flex-wrap:wrap}
        nav button{background:transparent;border:1px solid rgba(255,255,255,0.1);color:var(--text2);padding:0.25rem 0.5rem;font-family:'Courier Prime',monospace;font-size:0.6rem;cursor:pointer;text-transform:uppercase;white-space:nowrap}
        nav button:hover,nav button.active{background:rgba(255,255,255,0.05);color:var(--text);border-color:var(--red)}
        main{padding-top:45px;min-height:100vh}
        section{display:none;min-height:calc(100vh - 45px);overflow-y:auto}
        section.active{display:block}
        
        .board-container{width:100%;height:calc(100vh - 45px);background:radial-gradient(ellipse at center,rgba(45,35,24,0.8) 0%,rgba(26,20,16,1) 70%);position:relative;overflow:hidden}
        #strings-canvas{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:5}
        
        /* Epstein card - FIXED in center, above canvas */
        .epstein-card{
            position:absolute;
            left:50%;top:50%;
            transform:translate(-50%,-50%);
            width:160px;
            background:linear-gradient(135deg,#fef3c7 0%,#fde68a 100%);
            padding:0.4rem;
            box-shadow:0 0 30px rgba(239,68,68,0.5),0 0 60px rgba(239,68,68,0.2);
            z-index:100;
            border:3px solid #dc2626;
            cursor:pointer;
        }
        .epstein-card::before{content:'üìç';position:absolute;top:-12px;left:50%;transform:translateX(-50%);font-size:1.2rem}
        .epstein-card .name{font-family:'Bebas Neue',sans-serif;font-size:1rem;color:#1a1a1a;text-align:center}
        .epstein-card .role{font-size:0.6rem;color:#525252;text-align:center}
        .epstein-card .intel{background:#dc2626;color:white;font-size:0.5rem;padding:0.15rem 0.3rem;text-align:center;margin-top:0.2rem;font-family:'Courier Prime',monospace}
        
        /* Other cards container - moves with pan/zoom */
        #cards-container{position:absolute;top:0;left:0;width:100%;height:100%;z-index:10}
        
        .person-card{position:absolute;width:120px;background:#fefce8;padding:0.25rem;box-shadow:2px 2px 8px rgba(0,0,0,0.4);cursor:pointer;transition:box-shadow 0.2s, z-index 0s;z-index:10;font-size:0.6rem}
        .person-card::before{content:'';position:absolute;top:-4px;left:50%;transform:translateX(-50%);width:8px;height:8px;background:radial-gradient(circle at 30% 30%,#ef4444 0%,#b91c1c 100%);border-radius:50%}
        .person-card:hover{z-index:200;box-shadow:0 0 20px rgba(239,68,68,0.6)}
        .person-card .name{font-family:'Courier Prime',monospace;font-weight:700;font-size:0.55rem;color:#1a1a1a;text-align:center}
        .person-card .role{font-size:0.45rem;color:#525252;text-align:center}
        .person-card[data-type="operator"]{border-left:3px solid #f97316}
        .person-card[data-type="target"]{border-left:3px solid #3b82f6}
        .person-card[data-type="financier"]{border-left:3px solid #22c55e}
        .person-card[data-type="intelligence"]{border-left:3px solid #8b5cf6}
        .person-card[data-type="bank"]{border-left:3px solid #10b981}
        .person-card[data-type="family"]{border-left:3px solid #ec4899}
        .person-card[data-type="location"]{border-left:3px solid #fbbf24}
        
        .board-controls{position:fixed;bottom:1rem;left:50%;transform:translateX(-50%);display:flex;gap:0.5rem;background:rgba(10,10,12,0.95);padding:0.4rem 0.8rem;border-radius:50px;border:1px solid rgba(255,255,255,0.1);z-index:500;align-items:center}
        .board-controls button{background:transparent;border:1px solid rgba(255,255,255,0.2);color:var(--text);width:28px;height:28px;cursor:pointer;border-radius:50%;font-size:0.9rem}
        .board-controls button:hover{background:rgba(255,255,255,0.1)}
        .zoom-display{font-family:'Courier Prime',monospace;font-size:0.65rem;color:var(--gold);min-width:40px;text-align:center}
        
        .legend{position:fixed;top:50px;left:0.5rem;background:rgba(10,10,12,0.95);padding:0.4rem;border-radius:4px;font-size:0.45rem;z-index:500}
        .legend-item{display:flex;align-items:center;gap:0.2rem;margin-bottom:0.1rem}
        .legend-color{width:6px;height:6px;border-radius:2px}
        
        .detail-panel{position:fixed;top:45px;right:0;width:350px;height:calc(100vh - 45px);background:var(--card);border-left:1px solid rgba(255,255,255,0.1);transform:translateX(100%);transition:transform 0.3s;z-index:600;overflow-y:auto}
        .detail-panel.open{transform:translateX(0)}
        .detail-header{padding:0.75rem;background:linear-gradient(180deg,rgba(239,68,68,0.2) 0%,transparent 100%)}
        .detail-close{position:absolute;top:0.5rem;right:0.5rem;background:transparent;border:none;color:var(--text2);font-size:1rem;cursor:pointer}
        .detail-name{font-family:'Bebas Neue',sans-serif;font-size:1.2rem}
        .detail-role{color:var(--text2);font-size:0.75rem}
        .detail-content{padding:0.5rem}
        .detail-section{margin-bottom:0.75rem}
        .detail-section h4{font-family:'Courier Prime',monospace;font-size:0.6rem;color:var(--red);text-transform:uppercase;margin-bottom:0.3rem;padding-bottom:0.2rem;border-bottom:1px solid rgba(255,255,255,0.1)}
        .evidence-item{margin-bottom:0.4rem;padding:0.4rem;background:rgba(0,0,0,0.3);border-radius:3px;font-size:0.7rem;line-height:1.3}
        .evidence-item .source{font-family:'Courier Prime',monospace;font-size:0.55rem;color:var(--gold);margin-top:0.2rem}
        .evidence-item .source a{color:var(--gold)}
        .compromise-badge{display:inline-block;padding:0.1rem 0.3rem;border-radius:20px;font-size:0.55rem;font-weight:600}
        .compromise-badge.HIGH{background:rgba(239,68,68,0.3);color:#fca5a5}
        .compromise-badge.CONFIRMED{background:rgba(239,68,68,0.5);color:#fecaca}
        
        .section-content{padding:1rem;max-width:1400px;margin:0 auto}
        .section-header{text-align:center;margin-bottom:1.5rem}
        .section-header h2{font-family:'Bebas Neue',sans-serif;font-size:1.8rem;letter-spacing:0.1em}
        .section-header p{color:var(--text2);font-size:0.8rem}
        .grid{display:grid;gap:1rem}
        .grid-2{grid-template-columns:repeat(auto-fill,minmax(350px,1fr))}
        .card{background:var(--card);border:1px solid rgba(255,255,255,0.05);border-radius:6px;padding:0.75rem}
        .card:hover{border-color:var(--red)}
        .card h3{font-family:'Bebas Neue',sans-serif;font-size:1rem;margin-bottom:0.4rem}
        .card p{font-size:0.75rem;color:var(--text2);line-height:1.4}
        .card .source{font-family:'Courier Prime',monospace;font-size:0.55rem;color:var(--gold);margin-top:0.4rem}
        .card .source a{color:var(--gold)}
        .quote{background:rgba(239,68,68,0.1);border-left:3px solid var(--red);padding:0.5rem;margin:0.4rem 0;font-style:italic;font-size:0.8rem}
        
        /* Behavior section */
        .behavior-category{background:var(--card);border:1px solid rgba(255,255,255,0.05);border-radius:8px;margin-bottom:1.5rem;overflow:hidden}
        .behavior-category-header{padding:1rem;background:linear-gradient(135deg,rgba(239,68,68,0.15) 0%,transparent 100%);border-bottom:1px solid rgba(255,255,255,0.05)}
        .behavior-category-header h3{font-family:'Bebas Neue',sans-serif;font-size:1.3rem;margin-bottom:0.2rem}
        .behavior-category-header p{color:var(--text2);font-size:0.75rem}
        .behavior-items{padding:0.75rem}
        .behavior-item{display:grid;grid-template-columns:1fr auto;gap:0.5rem;padding:0.6rem;background:rgba(0,0,0,0.2);border-radius:4px;margin-bottom:0.5rem;font-size:0.75rem}
        .behavior-action{font-weight:600}
        .behavior-date{font-family:'Courier Prime',monospace;font-size:0.6rem;color:var(--gold)}
        .behavior-consequence{color:var(--red);font-size:0.7rem}
        .behavior-bizarre{color:var(--text2);font-size:0.65rem;font-style:italic}
        .leverage-angle{background:rgba(139,92,246,0.15);border:1px solid rgba(139,92,246,0.3);padding:0.75rem;margin-top:0.75rem;border-radius:4px}
        .leverage-angle strong{color:var(--purple)}
        .pattern-box{background:linear-gradient(135deg,rgba(239,68,68,0.2) 0%,rgba(139,92,246,0.2) 100%);border:2px solid var(--red);border-radius:8px;padding:1.5rem;margin-top:2rem}
        .pattern-box h3{font-family:'Bebas Neue',sans-serif;font-size:1.5rem;text-align:center;margin-bottom:1rem}
        .pattern-box ul{list-style:none}
        .pattern-box li{padding:0.4rem 0;padding-left:1.5rem;position:relative;font-size:0.8rem}
        .pattern-box li::before{content:'‚ö†Ô∏è';position:absolute;left:0}
        .pattern-question{text-align:center;margin-top:1.5rem;padding:1rem;background:rgba(0,0,0,0.3);border-radius:4px;font-size:1rem;font-weight:600;color:var(--gold)}
        
        footer{padding:1rem;border-top:1px solid rgba(255,255,255,0.05);font-size:0.7rem;color:var(--text2);text-align:center}
        .disclaimer{max-width:800px;margin:0 auto 0.75rem;padding:0.5rem;background:rgba(239,68,68,0.1);border:1px solid rgba(239,68,68,0.2);border-radius:4px;font-size:0.65rem}
        
        @media(max-width:768px){.legend{display:none}.detail-panel{width:100%}.grid-2{grid-template-columns:1fr}}
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo"><h1>üî¥ EPSTEIN FILES</h1></div>
            <nav>
                <button class="active" data-section="board">Network</button>
                <button data-section="behavior">‚ö†Ô∏è Behavior Analysis</button>
                <button data-section="video">Video Evidence</button>
                <button data-section="money">Money</button>
                <button data-section="intel">Intelligence</button>
                <button data-section="sources">Sources</button>
            </nav>
        </div>
    </header>

    <main>
        <section id="board-section" class="active">
            <div class="board-container" id="board">
                <canvas id="strings-canvas"></canvas>
                <div id="cards-container"></div>
                <div class="epstein-card" id="epstein-center">
                    <div class="name">JEFFREY EPSTEIN</div>
                    <div class="role">Financier / Intel Asset</div>
                    <div class="intel">‚ö†Ô∏è "BELONGED TO INTELLIGENCE"</div>
                </div>
            </div>
            <div class="legend">
                <div class="legend-item"><div class="legend-color" style="background:#f97316"></div><span>Operator</span></div>
                <div class="legend-item"><div class="legend-color" style="background:#3b82f6"></div><span>Target</span></div>
                <div class="legend-item"><div class="legend-color" style="background:#22c55e"></div><span>Financier</span></div>
                <div class="legend-item"><div class="legend-color" style="background:#8b5cf6"></div><span>Intelligence</span></div>
                <div class="legend-item"><div class="legend-color" style="background:#10b981"></div><span>Bank</span></div>
                <div class="legend-item"><div class="legend-color" style="background:#fbbf24"></div><span>Location</span></div>
            </div>
            <div class="board-controls">
                <button id="zoom-out">‚àí</button>
                <span class="zoom-display" id="zoom-level">100%</span>
                <button id="zoom-in">+</button>
                <button id="reset-view">‚ü≤</button>
            </div>
        </section>

        <section id="behavior-section">
            <div class="section-content">
                <div class="section-header">
                    <h2>‚ö†Ô∏è EXPLAINING THE UNEXPLAINABLE</h2>
                    <p>When decisions make no sense, ask: who benefits?</p>
                </div>
                <div class="quote" style="font-size:0.9rem;margin-bottom:1.5rem">
                    The "belonged to intelligence" admission proves Epstein was protected. The question is: <strong>who has the material now</strong>, and does it explain decisions that otherwise make no sense?
                </div>
                <div class="behavior-category">
                    <div class="behavior-category-header"><h3>üèõÔ∏è Defying Court Orders</h3><p>Unprecedented contempt for judicial authority</p></div>
                    <div class="behavior-items">
                        <div class="behavior-item"><div><div class="behavior-action">Defied Judge Boasberg's order to halt deportation flights</div><div class="behavior-consequence">‚Üí Found probable cause for criminal contempt</div><div class="behavior-bizarre">"Officials 'gleefully' boasted about defiance"</div></div><div class="behavior-date">Mar 2025</div></div>
                        <div class="behavior-item"><div><div class="behavior-action">Refused to return wrongly deported man despite 9-0 Supreme Court ruling</div><div class="behavior-consequence">‚Üí Constitutional crisis brewing</div><div class="behavior-bizarre">Claimed "facilitate return" doesn't mean "return him"</div></div><div class="behavior-date">Apr 2025</div></div>
                        <div class="behavior-item"><div><div class="behavior-action">94% of district court rulings went AGAINST administration</div><div class="behavior-consequence">‚Üí Historic rate of legal losses</div><div class="behavior-bizarre">Response: threaten to impeach judges, eliminate courts</div></div><div class="behavior-date">May 2025</div></div>
                        <div class="behavior-item"><div><div class="behavior-action">Accused of flouting 1/3 of ALL major court orders</div><div class="behavior-consequence">‚Üí Washington Post comprehensive analysis</div><div class="behavior-bizarre">Widespread "defiance, delay and dishonesty"</div></div><div class="behavior-date">Jul 2025</div></div>
                        <div class="leverage-angle"><strong>LEVERAGE ANGLE:</strong> A president under leverage cannot risk prosecution or exposure. Chaos and institutional destruction create cover.</div>
                    </div>
                </div>
                <div class="behavior-category">
                    <div class="behavior-category-header"><h3>üí∞ Economic Self-Sabotage</h3><p>Policies that hurt American workers and markets</p></div>
                    <div class="behavior-items">
                        <div class="behavior-item"><div><div class="behavior-action">Tariffs at highest level since 1930s (16% average)</div><div class="behavior-consequence">‚Üí 82% paid by US companies/consumers</div><div class="behavior-bizarre">Claims "foreign nations pay" - they don't</div></div><div class="behavior-date">2025</div></div>
                        <div class="behavior-item"><div><div class="behavior-action">"Liberation Day" tariffs triggered market crash</div><div class="behavior-consequence">‚Üí $6 TRILLION wiped out in 5 days</div><div class="behavior-bizarre">Posted "GREAT TIME TO BUY" hours before pause</div></div><div class="behavior-date">Apr 2025</div></div>
                        <div class="behavior-item"><div><div class="behavior-action">Single social media post wiped $2 TRILLION</div><div class="behavior-consequence">‚Üí 424 of 500 S&P stocks fell</div><div class="behavior-bizarre">Market crashes on threats alone</div></div><div class="behavior-date">Oct 2025</div></div>
                        <div class="behavior-item"><div><div class="behavior-action">Consumer sentiment: LOWEST annual average in HISTORY</div><div class="behavior-consequence">‚Üí Americans more pessimistic than ever recorded</div><div class="behavior-bizarre">Administration claims success</div></div><div class="behavior-date">2025</div></div>
                        <div class="leverage-angle"><strong>LEVERAGE ANGLE:</strong> Economic chaos benefits adversaries. A weakened US economy serves Russian and Chinese interests.</div>
                    </div>
                </div>
                <div class="behavior-category">
                    <div class="behavior-category-header"><h3>üåç Alienating Allies / Helping Adversaries</h3><p>Foreign policy that baffles experts</p></div>
                    <div class="behavior-items">
                        <div class="behavior-item"><div><div class="behavior-action">NATO weakening welcomed by Moscow</div><div class="behavior-consequence">‚Üí 70+ year alliance undermined</div><div class="behavior-bizarre">Kremlin publicly celebrates</div></div><div class="behavior-date">2025</div></div>
                        <div class="behavior-item"><div><div class="behavior-action">Ukraine concessions - "pre-2014 borders unrealistic"</div><div class="behavior-consequence">‚Üí Effectively cedes Crimea to Russia</div><div class="behavior-bizarre">Bolton: "Surrendered to Putin"</div></div><div class="behavior-date">2025</div></div>
                        <div class="behavior-item"><div><div class="behavior-action">Kushner at Kremlin meeting with Putin</div><div class="behavior-consequence">‚Üí Private citizen shadow diplomacy</div><div class="behavior-bizarre">Same Kushner in Epstein money docs</div></div><div class="behavior-date">Jan 2026</div></div>
                        <div class="behavior-item"><div><div class="behavior-action">"Model Ally" for Israel despite ICC warrant</div><div class="behavior-consequence">‚Üí Strongest language EVER for any ally</div><div class="behavior-bizarre">Netanyahu on Gaza policy board</div></div><div class="behavior-date">2026</div></div>
                        <div class="leverage-angle"><strong>LEVERAGE ANGLE:</strong> Both Israel (Maxwell/Mossad) and Russia have Epstein connections. Both get inexplicably favorable treatment.</div>
                    </div>
                </div>
                <div class="pattern-box">
                    <h3>üî¥ THE PATTERN</h3>
                    <ul>
                        <li>Epstein "belonged to intelligence" - <strong>CONFIRMED</strong></li>
                        <li>Videos of "prominent men" exist - documented in FBI tips</li>
                        <li>Israel (Mossad/Maxwell) ran the operation</li>
                        <li>Russia has trafficking/money laundering overlap</li>
                        <li>Both countries receive inexplicably favorable treatment</li>
                        <li>Administration destroys oversight mechanisms</li>
                        <li>Anyone who could expose truth is attacked</li>
                    </ul>
                    <div class="pattern-question">If a president were compromised by foreign intelligence blackmail,<br>how would their behavior differ from what we're seeing?</div>
                </div>
            </div>
        </section>

        <section id="video-section">
            <div class="section-content">
                <div class="section-header"><h2>üé• VIDEO EVIDENCE & BLACKMAIL</h2></div>
                <div class="grid grid-2" id="video-grid"></div>
            </div>
        </section>

        <section id="money-section">
            <div class="section-content">
                <div class="section-header"><h2>üí∞ MONEY FLOWS</h2></div>
                <div class="grid grid-2" id="money-grid"></div>
            </div>
        </section>

        <section id="intel-section">
            <div class="section-content">
                <div class="section-header"><h2>üïµÔ∏è INTELLIGENCE CONNECTIONS</h2></div>
                <div class="grid grid-2" id="intel-grid"></div>
            </div>
        </section>

        <section id="sources-section">
            <div class="section-content">
                <div class="section-header"><h2>üìö PRIMARY SOURCES</h2></div>
                <div class="grid grid-2" id="sources-grid"></div>
            </div>
        </section>
    </main>

    <div class="detail-panel" id="detail-panel">
        <button class="detail-close" id="close-detail">√ó</button>
        <div class="detail-header">
            <h3 class="detail-name" id="detail-name"></h3>
            <p class="detail-role" id="detail-role"></p>
        </div>
        <div class="detail-content" id="detail-content"></div>
    </div>

    <footer>
        <div class="disclaimer"><strong>‚ö†Ô∏è DISCLAIMER:</strong> This dashboard presents documented evidence from released DOJ files. Some FBI tips are UNVERIFIED. Analysis is editorial interpretation. Verify all claims against primary sources.</div>
        <p>Sources: DOJ Release Jan 30, 2026 ‚Ä¢ <a href="https://archive.org/details/efta-01660679" style="color:var(--gold)">FBI Tips</a> ‚Ä¢ <a href="https://archive.org/details/combined-all-epstein-files" style="color:var(--gold)">Dec 2025 OCR</a></p>
    </footer>

    <script>
const ARCHIVE = "https://archive.org/details/";
const data = {
people: [
{id:"maxwell",name:"Ghislaine Maxwell",type:"operator",role:"Recruiter",x:-250,y:-200,evidence:[{text:"Father was Mossad",source:"Declassified"},{text:"Primary recruiter",source:"Testimony"},{text:"Convicted 2021",source:"Court"}]},
{id:"trump",name:"Donald Trump",type:"target",role:"45/47 President",x:350,y:-150,evidence:[{text:"8+ flights 1993-96",source:"Logs"},{text:"Mar-a-Lago recruitment",source:"Giuffre"},{text:"FBI tip: video exists",source:"NTOC"}],compromised:"HIGH"},
{id:"clinton",name:"Bill Clinton",type:"target",role:"42nd President",x:350,y:200,evidence:[{text:"26+ flights",source:"Logs"},{text:"FBI tip: in videos",source:"NTOC"}],compromised:"HIGH"},
{id:"andrew",name:"Prince Andrew",type:"target",role:"British Royal",x:-300,y:250,evidence:[{text:"228 mentions",source:"OCR"},{text:"$12M settlement",source:"News"}],compromised:"HIGH"},
{id:"dershowitz",name:"Alan Dershowitz",type:"target",role:"Harvard Law",x:450,y:0,evidence:[{text:"146 mentions",source:"OCR"},{text:"Victim testimony",source:"Court"}],compromised:"HIGH"},
{id:"staley",name:"Jes Staley",type:"target",role:"Ex-Barclays CEO",x:450,y:280,evidence:[{text:"1200+ emails",source:"Discovery"},{text:"CONFIRMED blackmail",source:"Line 265493"}],compromised:"CONFIRMED"},
{id:"wexner",name:"Leslie Wexner",type:"financier",role:"Victoria's Secret",x:-180,y:50,evidence:[{text:"ONLY known client",source:"Records"},{text:"$77M mansion",source:"Property"}]},
{id:"leon_black",name:"Leon Black",type:"target",role:"Apollo Global",x:180,y:350,evidence:[{text:"$158M+ payments",source:"DB records"}],compromised:"HIGH"},
{id:"kushner",name:"Jared Kushner",type:"family",role:"Trump Son-in-law",x:500,y:-80,evidence:[{text:"Money laundering docs",source:"SEC"},{text:"Putin meeting 2026",source:"News"}],compromised:"HIGH"},
{id:"barak",name:"Ehud Barak",type:"intelligence",role:"Ex-Israeli PM",x:-380,y:80,evidence:[{text:"Photo at mansion",source:"Press"}]},
{id:"robert_maxwell",name:"Robert Maxwell",type:"intelligence",role:"Mossad Asset",x:-400,y:-120,evidence:[{text:"DOCUMENTED Mossad",source:"Declassified"}]},
{id:"acosta",name:"Alexander Acosta",type:"intelligence",role:"Ex-Labor Sec",x:180,y:-80,evidence:[{text:"'Belonged to intelligence'",source:"Vetting"},{text:"2008 sweetheart deal",source:"Court"}]},
{id:"sbny",name:"Signature Bank",type:"bank",role:"Trump/Kushner",x:380,y:150,evidence:[{text:"Ivanka board",source:"SEC"},{text:"Collapsed 2023",source:"News"}]},
{id:"maralago",name:"Mar-a-Lago",type:"location",role:"Recruitment Site",x:220,y:80,evidence:[{text:"Giuffre recruited",source:"Testimony"}]},
{id:"island",name:"Little St James",type:"location",role:"Private Island",x:-120,y:280,evidence:[{text:"Hidden cameras",source:"Police"}]}
],
connections:[
{from:"epstein",to:"maxwell",type:"partner"},{from:"epstein",to:"wexner",type:"financial"},{from:"epstein",to:"trump",type:"flight"},
{from:"epstein",to:"clinton",type:"flight"},{from:"epstein",to:"andrew",type:"social"},{from:"epstein",to:"dershowitz",type:"legal"},
{from:"epstein",to:"staley",type:"blackmail"},{from:"epstein",to:"leon_black",type:"financial"},{from:"epstein",to:"barak",type:"intelligence"},
{from:"epstein",to:"island",type:"property"},{from:"epstein",to:"maralago",type:"social"},{from:"epstein",to:"acosta",type:"intelligence"},
{from:"maxwell",to:"trump",type:"recruitment"},{from:"maxwell",to:"robert_maxwell",type:"family"},{from:"maxwell",to:"maralago",type:"recruitment"},
{from:"robert_maxwell",to:"barak",type:"intelligence"},{from:"trump",to:"kushner",type:"family"},{from:"kushner",to:"sbny",type:"financial"},
{from:"acosta",to:"trump",type:"political"}
],
video:[
{title:"Films of Prominent Men",quote:"There were films of prominent men such as Epstein, Bill Clinton, and Donald Trump, and that Ghislaine Maxwell is in the videos as well.",source:"FBI NTOC",ref:"EFTA01660679"},
{title:"Blackmail Purpose",quote:"Epstein surreptitiously recorded sexual activity between prominent individuals and underage girls for purposes of blackmail",source:"2006 Lawsuit",ref:"Line 927556"},
{title:"Hidden Camera",quote:"hidden camera was functional at the time",source:"Police Report",ref:"Line 53410"},
{title:"Bitcoin Extortion",quote:"19mins.22secs underage girl (sex video)... Please arrange for 1 bitcoin",source:"Extortion Attempt",ref:"Line 1626761"},
{title:"'We Have Evidence'",quote:"We've got clients who were abused. Some underage. We have the evidence.",source:"David Boies 2016",ref:"Line 287951"}
],
sources:[
{name:"FBI NTOC Tips",url:"efta-01660679",desc:"Jan 30, 2026 release"},
{name:"Dec 2025 OCR",url:"combined-all-epstein-files",desc:"42MB, 1.6M lines"},
{name:"Flight Logs",url:"epstein-flight-logs",desc:"Lolita Express manifests"}
]
};

// Board state
let scale = 1, offsetX = 0, offsetY = 0;
let boardW, boardH, centerX, centerY;
const board = document.getElementById('board');
const canvas = document.getElementById('strings-canvas');
const ctx = canvas.getContext('2d');
const cardsContainer = document.getElementById('cards-container');
const detailPanel = document.getElementById('detail-panel');

// Colors for connection types
const connColors = {
    partner:'#dc2626',trafficking:'#dc2626',blackmail:'#dc2626',recruitment:'#f97316',
    flight:'#3b82f6',social:'#3b82f6',financial:'#eab308',legal:'#6b7280',
    intelligence:'#8b5cf6',family:'#ec4899',political:'#6b7280',property:'#fbbf24'
};

function init() {
    resize();
    renderCards();
    window.addEventListener('resize', resize);
    setupEvents();
}

function resize() {
    boardW = board.clientWidth;
    boardH = board.clientHeight;
    centerX = boardW / 2;
    centerY = boardH / 2;
    canvas.width = boardW;
    canvas.height = boardH;
    render();
}

function render() {
    positionCards();
    drawStrings();
    document.getElementById('zoom-level').textContent = Math.round(scale * 100) + '%';
}

function renderCards() {
    cardsContainer.innerHTML = '';
    data.people.forEach(p => {
        const card = document.createElement('div');
        card.className = 'person-card';
        card.dataset.id = p.id;
        card.dataset.type = p.type;
        card.innerHTML = `<div class="name">${p.name}</div><div class="role">${p.role}</div>`;
        card.onclick = () => showDetail(p);
        cardsContainer.appendChild(card);
    });
}

function positionCards() {
    const cards = cardsContainer.querySelectorAll('.person-card');
    data.people.forEach((p, i) => {
        const card = cards[i];
        if (card) {
            // Calculate screen position relative to center
            const screenX = centerX + (p.x * scale) + offsetX;
            const screenY = centerY + (p.y * scale) + offsetY;
            card.style.left = (screenX - 60) + 'px';
            card.style.top = (screenY - 30) + 'px';
            card.style.transform = `scale(${Math.max(0.6, Math.min(1.2, scale))})`;
        }
    });
}

function drawStrings() {
    ctx.clearRect(0, 0, boardW, boardH);
    
    // Epstein is ALWAYS at visual center of the board
    const epsteinX = centerX;
    const epsteinY = centerY;
    
    data.connections.forEach(c => {
        let fromX, fromY, toX, toY;
        
        // Get FROM position
        if (c.from === 'epstein') {
            fromX = epsteinX;
            fromY = epsteinY;
        } else {
            const fromPerson = data.people.find(p => p.id === c.from);
            if (!fromPerson) return;
            fromX = centerX + (fromPerson.x * scale) + offsetX;
            fromY = centerY + (fromPerson.y * scale) + offsetY;
        }
        
        // Get TO position
        if (c.to === 'epstein') {
            toX = epsteinX;
            toY = epsteinY;
        } else {
            const toPerson = data.people.find(p => p.id === c.to);
            if (!toPerson) return;
            toX = centerX + (toPerson.x * scale) + offsetX;
            toY = centerY + (toPerson.y * scale) + offsetY;
        }
        
        // Draw string
        ctx.beginPath();
        ctx.strokeStyle = connColors[c.type] || '#888';
        ctx.lineWidth = (c.type === 'blackmail' || c.type === 'partner') ? 3 : 1.5;
        ctx.globalAlpha = 0.7;
        ctx.moveTo(fromX, fromY);
        ctx.lineTo(toX, toY);
        ctx.stroke();
        ctx.globalAlpha = 1;
    });
}

function showDetail(p) {
    document.getElementById('detail-name').textContent = p.name;
    document.getElementById('detail-role').textContent = p.role;
    let html = '';
    if (p.compromised) html += `<div class="detail-section"><span class="compromise-badge ${p.compromised}">${p.compromised}</span></div>`;
    html += `<div class="detail-section"><h4>Evidence</h4>${p.evidence.map(e => `<div class="evidence-item">‚ñ∏ ${e.text}<div class="source">${e.source}</div></div>`).join('')}</div>`;
    document.getElementById('detail-content').innerHTML = html;
    detailPanel.classList.add('open');
}

function renderVideo() {
    document.getElementById('video-grid').innerHTML = data.video.map(v => `<div class="card"><h3 style="color:var(--red)">${v.title}</h3><div class="quote">"${v.quote}"</div><div class="source">${v.source} - ${v.ref}</div></div>`).join('');
}

function renderMoney() {
    document.getElementById('money-grid').innerHTML = `
        <div class="card"><h3>Leon Black ‚Üí Epstein: $158M+</h3><p>Multiple payments 2013-2017 via Deutsche Bank</p><div class="source"><a href="${ARCHIVE}combined-all-epstein-files">üìÑ DB-SDNY records</a></div></div>
        <div class="card"><h3>Rothschild ‚Üí Epstein: $25M</h3><p>December 2015 wire transfers</p><div class="source"><a href="${ARCHIVE}combined-all-epstein-files">üìÑ Line 1075331</a></div></div>
        <div class="card"><h3>Wexner ‚Üí Epstein</h3><p>$77M mansion, Boeing 727, unlimited authority 1991-2007</p><div class="source">Property records</div></div>
        <div class="card"><h3>Kushner Banking Nexus</h3><div class="quote">"Putin/Rakishev/Trump/Kushner/SBNY/Hapoalim"</div><div class="source"><a href="${ARCHIVE}combined-all-epstein-files">üìÑ SEC whistleblower</a></div></div>
    `;
}

function renderIntel() {
    document.getElementById('intel-grid').innerHTML = `
        <div class="card" style="border-top:3px solid #3b82f6"><h3>üáÆüá± Israeli Intelligence</h3>
            <p>‚ñ∏ "Belonged to intelligence" - Acosta</p>
            <p>‚ñ∏ Robert Maxwell - DOCUMENTED Mossad</p>
            <p>‚ñ∏ Wexner - Israel philanthropist</p>
            <p>‚ñ∏ Bank Hapoalim ‚Üí SBNY ‚Üí Trump/Kushner</p>
        </div>
        <div class="card" style="border-top:3px solid #ef4444"><h3>üá∑üá∫ Russian Connections</h3>
            <p>‚ñ∏ 57 Putin mentions in Dec 2025 release</p>
            <p>‚ñ∏ Money laundering overlap</p>
            <p>‚ñ∏ Kushner at Kremlin Jan 2026</p>
        </div>
    `;
}

function renderSources() {
    document.getElementById('sources-grid').innerHTML = data.sources.map(s => `<div class="card"><h3>${s.name}</h3><p>${s.desc}</p><a href="${ARCHIVE}${s.url}" target="_blank" style="color:var(--gold)">üîó Archive.org</a></div>`).join('');
}

function setupEvents() {
    // Nav
    document.querySelectorAll('nav button').forEach(btn => {
        btn.onclick = () => {
            document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
            document.getElementById(btn.dataset.section + '-section').classList.add('active');
        };
    });
    
    // Zoom
    document.getElementById('zoom-in').onclick = () => { scale = Math.min(scale + 0.2, 2.5); render(); };
    document.getElementById('zoom-out').onclick = () => { scale = Math.max(scale - 0.2, 0.3); render(); };
    document.getElementById('reset-view').onclick = () => { scale = 1; offsetX = 0; offsetY = 0; render(); };
    
    // Mouse wheel zoom
    board.addEventListener('wheel', e => {
        e.preventDefault();
        const delta = e.deltaY > 0 ? -0.1 : 0.1;
        scale = Math.max(0.3, Math.min(2.5, scale + delta));
        render();
    }, { passive: false });
    
    // Pan
    let dragging = false, startX, startY;
    board.onmousedown = e => {
        if (e.target === board || e.target === canvas || e.target === cardsContainer) {
            dragging = true;
            startX = e.clientX - offsetX;
            startY = e.clientY - offsetY;
            board.style.cursor = 'grabbing';
        }
    };
    document.onmousemove = e => {
        if (dragging) {
            offsetX = e.clientX - startX;
            offsetY = e.clientY - startY;
            render();
        }
    };
    document.onmouseup = () => {
        dragging = false;
        board.style.cursor = 'grab';
    };
    
    // Detail panel
    document.getElementById('close-detail').onclick = () => detailPanel.classList.remove('open');
    
    // Render other sections
    renderVideo();
    renderMoney();
    renderIntel();
    renderSources();
}

window.onload = init;
    </script>
</body>
</html>
